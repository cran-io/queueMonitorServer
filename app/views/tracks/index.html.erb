<% content_for(:head) do %>
  <%= javascript_include_tag "tracks" %>
<% end %>

<div class="row">
	<div class="col-xs-3 col-xs-offset-8 no-padding">
		<div class="input-daterange input-group pull-right" id="datepicker">
			<input type="text" class="input-sm form-control" id="start" value="<%= @begin_date.strftime("%d/%m/%Y") %>" readonly />
			<span class="input-group-addon">a</span>
			<input type="text" class="input-sm form-control" id="end" value="<%= @end_date.strftime("%d/%m/%Y") %>" readonly />
		</div>
	</div>
	<div class="col-xs-1 no-padding">
		<button class="btn btn-sm btn-success col-xs-11 pull-right" id="search">Filtrar</button>
	</div>
</div>
<br>
<div class="row">
	<div class="col-xs-1 track-chart-days">
		<%= render partial: 'days_head', locals: { days: @days } %>
	</div>
	<div class="col-xs-11">
		<div class="row">
			<div class="col-xs-12">
			<div class="row">
				<div class="col-xs-6 no-padding">
					<% (0...12).each do |range|%>
						<div class="col-xs-1 no-padding track-chart-head">
							<div class="progress">
							  <div class="progress-bar progress-bar-success" style="width: 0%;">
							  </div>
								<%= sprintf('%02d', range).to_s+"-"+sprintf('%02d', range+1).to_s  %>
							</div>
						</div>
				<% end %>
					</div>
				<div class="col-xs-6 no-padding text-center" style="margin-left:-1px;">
					<% (12..23).each do |range| %>
						<div class="col-xs-1 track-chart-head" >
							<div class="progress">
							  <div class="progress-bar progress-bar-success" style="width: 0%;">
							  </div>
								<% if range+1 != 24 %>
									<%= "#{range}-#{range+1}" %>
								<% else %>
									<%= "#{range}-00" %>
								<% end %>
							</div>
						</div>
					<% end %>
					</div>
				</div>
			</div>
			<div class="col-xs-12" id="days">
				<%= render partial: 'days', locals: { days: @days } %>
			</div>
		</div>
	</div>
</div>
<br>
	<% unless @tracks.empty? %>
		<%= render partial: 'table', locals: { tracks: @tracks }%>
	<% end %>
<br><br>

